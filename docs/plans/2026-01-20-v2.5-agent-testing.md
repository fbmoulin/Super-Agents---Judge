# Lex Intelligentia v2.5 - Plano de Testes dos Novos Agentes

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Validar os 4 novos agentes especializados v2.5 (COBRANCA, DIVORCIO, INVENTARIO, SEGUROS) via API Claude direta.

**Architecture:** Testes diretos via Anthropic API usando agent_validator.js com system prompts específicos de cada agente.

**Tech Stack:** Node.js, Anthropic API (Claude Sonnet 4), agent_validator.js

---

## Prerequisites

Antes de iniciar:
- [x] Arquivos de definição dos agentes criados (agents/agent_*.md)
- [x] Knowledge base atualizada (domain_mapping.json, sumulas.json)
- [ ] ANTHROPIC_API_KEY configurada no ambiente
- [ ] agent_validator.js com system prompts dos novos agentes

---

## Task 1: Adicionar System Prompts ao agent_validator.js

**Files:**
- Modify: `scripts/agent_validator.js`

**Step 1:** Adicionar system prompt para agent_cobranca
**Step 2:** Adicionar system prompt para agent_divorcio
**Step 3:** Adicionar system prompt para agent_inventario
**Step 4:** Adicionar system prompt para agent_seguros

Os prompts devem seguir a estrutura existente (FUNÇÃO, REGRAS, SÚMULAS, PARÂMETROS, MARCADORES).

---

## Task 2: Criar Diretórios de Casos de Teste

**Files:**
- Create: `test_cases/cobranca/`
- Create: `test_cases/divorcio/`
- Create: `test_cases/inventario/`
- Create: `test_cases/seguros/`

---

## Task 3: Criar Casos de Teste - COBRANCA (2 casos)

**Files:**
- Create: `test_cases/cobranca/caso_01_acao_cobranca.json`
- Create: `test_cases/cobranca/caso_02_acao_monitoria.json`

Casos devem cobrir:
- Ação de cobrança por inadimplemento contratual
- Ação monitória baseada em cheque/nota promissória

---

## Task 4: Criar Casos de Teste - DIVORCIO (2 casos)

**Files:**
- Create: `test_cases/divorcio/caso_01_divorcio_litigioso.json`
- Create: `test_cases/divorcio/caso_02_dissolucao_uniao.json`

Casos devem cobrir:
- Divórcio litigioso com partilha de bens
- Dissolução de união estável

---

## Task 5: Criar Casos de Teste - INVENTARIO (2 casos)

**Files:**
- Create: `test_cases/inventario/caso_01_inventario_comum.json`
- Create: `test_cases/inventario/caso_02_arrolamento_sumario.json`

Casos devem cobrir:
- Inventário judicial comum
- Arrolamento sumário

---

## Task 6: Criar Casos de Teste - SEGUROS (2 casos)

**Files:**
- Create: `test_cases/seguros/caso_01_seguro_veiculo.json`
- Create: `test_cases/seguros/caso_02_seguro_vida.json`

Casos devem cobrir:
- Negativa de sinistro em seguro de veículo
- Negativa de pagamento em seguro de vida

---

## Task 7: Executar Validação dos Agentes

**Step 1:** Verificar API key configurada
```bash
echo $ANTHROPIC_API_KEY | head -c 10
```

**Step 2:** Testar cada agente individualmente
```bash
node scripts/agent_validator.js cobranca --verbose
node scripts/agent_validator.js divorcio --verbose
node scripts/agent_validator.js inventario --verbose
node scripts/agent_validator.js seguros --verbose
```

**Step 3:** Registrar resultados (score, tempo, issues)

---

## Task 8: Documentar Resultados

**Files:**
- Create: `test_cases/test_results/V2.5_AGENT_TEST_REPORT_2026-01-20.md`

Documento deve incluir:
- Resumo executivo (pass/fail por agente)
- Score de cada caso de teste
- Issues identificados
- Recomendações

---

## Verification Checklist

Antes de finalizar:
- [ ] 4 system prompts adicionados ao validator
- [ ] 8 casos de teste criados (2 por agente)
- [ ] Validação executada para todos os agentes
- [ ] Score >= 75% em todos os testes
- [ ] Relatório final gerado

---

*Plan created: 2026-01-20*
*Lex Intelligentia Judiciário v2.5 - Agent Testing*
